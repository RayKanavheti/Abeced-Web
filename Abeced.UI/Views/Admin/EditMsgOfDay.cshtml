@model Abeced.UI.Models.MessageOfDayModel
@using (Ajax.BeginForm("EditMsgOfDay", "Admin",
            new AjaxOptions
            {
                HttpMethod = "Post",
                UpdateTargetId = "targetDivMsg",
                OnSuccess = "OnSuccessMsg",
                OnFailure = "OnFailureMsg",
                InsertionMode = InsertionMode.Replace
            },
            new
            {
                @id = "submitformMsg"
            }))
{
    @Html.ValidationSummary(true)

    <div style="text-align: center">
        <table width="100%" cellspacing="0" style="margin: 0 auto; text-align: left">
            <tr>
                <td colspan="3" style="text-align: center" valign="middle"></td>
            </tr>
            <tr>
                <td colspan="3">
                    <table cellpadding="10" cellspacing="10" style="border-radius: 5px 5px 5px 5px; border: 1px solid #CCCCCC;
                        margin-top: 5px">
                        <tr align="left">
                            <td colspan="2">
                                <span style="font-weight: bold">All (*) are Mandatory Fields.</span>
                            </td>
                        </tr>
                        <tr align="left">
                            <td colspan="2">
                                <hr style="color: #77BACE; margin: 1px 0 -10px 0;" />
                            </td>
                        </tr>
                        <tr>
                            <td colspan="2" valign="middle">
                                <table cellpadding="5" cellspacing="5" style="width: 580px; border: none; margin-left: 0px">
                                    <tbody style="border: 0px">

                                        <tr>
                                            <td style="text-align: right; width: 280px; color: #1B548D; font-weight: bold" valign="top">
                                                * Date
                                            </td>
                                            <td>

                                                @(Html.Kendo().DatePickerFor(m => m.Day)
                                                  .Min(DateTime.Now)
                                                  .Format("yyyy-MM-dd")
                                                  .Enable(false)
                                                  .HtmlAttributes(new { style = "width:150px; height:20px;" })
                                                )
                                                @Html.ValidationMessageFor(m => m.Day)
                                                @Html.HiddenFor(m => m.Day)
                                                <br />
                                                <br />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td style="text-align: right; width: 280px; color: #1B548D; font-weight: bold" valign="top">
                                                * Message of the Day
                                            </td>
                                            <td>
                                                @Html.HiddenFor(m => m.Id)
                                                @Html.TextAreaFor(m => m.Message, new { @style = "width: 410px;height:80px;border: 1px solid #77BACE;" })

                                                @Html.ValidationMessageFor(m => m.Message)

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr align="left">

                <td align="center" colspan="2">
                    <div id="targetDivMsg" class="rssedMsg">
                    </div>
                </td>
            </tr>
            <tr align="left">
                <td align="left" style="padding-bottom: 10px">
                    <label for="name" style="color: Black">
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    </label>
                </td>
                <td align="center" style="padding-bottom: 12px">
                    <hr />
                    <button class="k-button" id="btnSubmitMsg" name="btnSubmitMsg" type="submit" style="width: 150px;
                        font-weight: bold; font-size: 12px;">
                        Save
                    </button>

                    <button class="k-button" id="btnCloseMsg" name="btnCloseMsg" style="width: 150px;
                        font-weight: bold; font-size: 12px">
                        Close
                    </button>
                </td>
            </tr>
        </table>
    </div>

}

<script type="text/javascript">


    $("#btnCloseMsg").click(function (e) {
        e.preventDefault();

        $(".k-window-content").each(function () {
            $(this).data("kendoWindow").close();
        });
    });


    $("#submitformMsg").kendoValidator({
        rules: {
            //implement custom validation here
        },
    });

    //$("#Day").kendoValidator({
    //    rules: {
    //        //implement your custom date validation
    //        dateValidation: function (e) {
    //            var currentDate = Date.parse($(e).val());
    //            //Check if Date parse is successful
    //            if (!currentDate) {
    //                return false;
    //            }
    //            return true;
    //        }
    //    },
    //    messages: {
    //        //Define your custom validation massages
    //        required: "Day field is required",
    //        dateValidation: "Invalid date "
    //    }
    //});



</script>
